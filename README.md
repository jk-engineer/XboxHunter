# XboxHunter
Программа для отслеживания наличия консолей XboxSeries S/X в магазинах.

## Для работы программы необходимо:
1) Установить [Python](https://www.python.org/downloads/) не ниже версии 3.6
2) Установить дополнительные пакеты:
   - requests
   - requests-html
   - beautifulsoup4
   - certifi
3) Запустить программу через файл [xbox_hunter.py](xbox_hunter.py) (требуется установленный pylauncher)

Подробное описание установки и настройки программы приведено ниже.

## Принцип работы
Программа каждые 1-3 минуты проверяет на веб-странице игровой консоли наличие/отсутствие следующих элементов:
- Ситилинк...........кнопка "В корзину"
- Эльдорадо..........кнопка "Сообщить о поступлении"
- Ozon...............кнопка "Добавить в корзину"
- Связной............кнопка "Купить"
- Сбермегамаркет.....кнопка "Купить"
- Gamepark...........кнопки "Узнать о наличии" и "Только в магазине"
- Technopark.........кнопка "Купить"
- Подпишись.РФ.......кнопка "Оформить заявку"
- 1С-Интерес.........кнопка "В корзину"
- КорпорацияЦентр....кнопка "Добавить в корзину"
- ОнлайнТрейд........статус "Снят с продажи"

В процессе работы программа выводит в своем окне время и результаты запроса.
При наличии игровой консоли программа открывает "удачную" ссылку в браузере, подает звуковой сигнал и (опционально) отправляет уведомление со ссылкой на электронную почту.

## Установка Python
1) Скачайте [Python](https://www.python.org/downloads/) не ниже версии 3.6
2) Запустите установочный файл, поставьте флажок напротив Add Python <номер версии> to PATH и нажмите Install Now. Запомните папку, в которую будет установлен Python
3) Скопируйте файл [install_packages.bat](install_packages.bat) в папку с файлом pip.exe. Например: C:\Program Files (x86)\Python3\Scripts\pip.exe
4) Запустите файл [install_packages.bat](install_packages.bat) для установки дополнительных пакетов

Теперь на вашем компьютере установлен Python с пакетами, необходимыми для работы программы.

## Настройка электронной почты для отправки уведомлений
1) Создайте новый Google-аккаунт (или используйте имеющийся аккаунт, если готовы снизить уровень его безопасности)
2) НЕ подключайте двухфакторную аутентификацию!
3) Перейдите в раздел Безопасность -> [Ненадежные приложения, у которых есть доступ к аккаунту](https://myaccount.google.com/lesssecureapps)
4) Включите опцию "Небезопасные приложения разрешены"

Периодически проверяйте настройки безопасности Google-аккаунта, т.к. опция "Небезопасные приложения разрешены" со временем автоматически отключается.
Без этой опции отправка уведомлений на электронную почту невозможна.

## Установка и настройка программы
1) Распакуйте архив с программой
2) Запустите файл [xbox_hunter.py](xbox_hunter.py)
3) Выберите необходимую игровую консоль для отслеживания
4) (Опционально) Введите логин и пароль Google-аккаунта, с которого будут отправляться уведомления (настройка аккаунта описана выше). Введите адрес электронной почты, на которую будут приходить уведомления

## Настройка списка магазинов
При каждом запуске программа однократно считывает ссылки для отслеживания из текстовых файлов, расположенных в папках [xss_links](xss_links) и [xsx_links](xsx_links).
Для удаления магазина из списка отслеживания измените расширение файла с .txt на любое другое или удалите расширение файла.
Для возврата магазина в список отслеживания восстановите расширение файла .txt.

Пример:
Ozon_xsx.txt - магазин в списке отслеживания
Ozon_xsx - магазин не отслеживается

Из текстового файла считывается только первая строка, поэтому для добавления новых ссылок необходимо создать новый текстовый файл.
Все изменения в папках [xss_links](xss_links), [xsx_links](xsx_links) и текстовых файлах производите при закрытой программе.

## Если не запускается файл xbox_hunter.py
1) Откройте в текстовом редакторе файл [xbox_hunter.bat](xbox_hunter.bat)
2) В строке внутри первых кавычек укажите путь к файлу python.exe на вашем компьютере. Например: "C:\Program Files (x86)\Python3\python.exe" "xbox_hunter.py"
3) Запустите файл [xbox_hunter.bat](xbox_hunter.bat)

## Технические ограничения
1) На данный момент не реализовано отслеживание игровых консолей в магазинах:
   - МВидео
   - DNS
   - Мегафон
   - Computeruniverse
2) Программа не сообщает сайту магазина местоположение/город

## Примечания
- Программа разрабатывалась и тестировалась на версии [Python 3.8.10](https://www.python.org/ftp/python/3.8.10/python-3.8.10.exe)
- Для проверки звукового сигнала запустите файл [sound_test.py](test/sound_test.py) (находится в папке test)
